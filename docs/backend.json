{
  "entities": {
    "Region": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Region",
      "type": "object",
      "description": "Represents a geographical region with associated plant blooming data.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the region."
        },
        "lat": {
          "type": "number",
          "description": "Latitude of the region."
        },
        "lon": {
          "type": "number",
          "description": "Longitude of the region."
        },
        "latest_bloom": {
            "type": "string",
            "format": "date"
        }
      },
      "required": [
        "name",
        "lat",
        "lon",
        "latest_bloom"
      ]
    },
    "NDVIEntry": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "NDVIEntry",
      "type": "object",
      "description": "Represents a single NDVI (Normalized Difference Vegetation Index) data point for a region at a specific time.",
      "properties": {
        "month": {
          "type": "string",
          "description": "Month of the NDVI reading (e.g., 'Jan', 'Feb')."
        },
        "value": {
          "type": "number",
          "description": "NDVI value for the region on the given date."
        }
      },
      "required": [
        "month",
        "value"
      ]
    },
    "BloomEvent": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "BloomEvent",
      "type": "object",
      "description": "Represents a bloom event (historical or predicted) for a specific region.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the bloom event."
        },
        "regionId": {
          "type": "string",
          "description": "Reference to Region. (Relationship: Region 1:N BloomEvent)"
        },
        "date": {
          "type": "string",
          "description": "Date of the bloom event (ISO 8601 format).",
          "format": "date-time"
        },
        "type": {
          "type": "string",
          "description": "Type of bloom event (e.g., 'historical', 'predicted')."
        }
      },
      "required": [
        "id",
        "regionId",
        "date",
        "type"
      ]
    },
    "ClimateData": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ClimateData",
      "type": "object",
      "description": "Represents climate data (rainfall, temperature, etc.) for a specific region and time, obtained from NASA POWER API.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the climate data entry."
        },
        "regionId": {
          "type": "string",
          "description": "Reference to Region. (Relationship: Region 1:N ClimateData)"
        },
        "date": {
          "type": "string",
          "description": "Date of the climate data measurement (ISO 8601 format).",
          "format": "date-time"
        },
        "rainfall": {
          "type": "number",
          "description": "Rainfall measurement (e.g., in mm)."
        },
        "temperature": {
          "type": "number",
          "description": "Temperature measurement (e.g., in Celsius)."
        }
      },
      "required": [
        "id",
        "regionId",
        "date"
      ]
    },
    "ContactMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContactMessage",
      "type": "object",
      "description": "Represents a message submitted through the contact form.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the contact message."
        },
        "name": {
          "type": "string",
          "description": "Name of the person submitting the message."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person submitting the message.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "The message content."
        },
        "sentAt": {
          "type": "string",
          "description": "The time the message was sent.",
          "format": "date-time"
        }
      },
      "required": [
        "name",
        "email",
        "message",
        "sentAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "collections": {
      "regions": {
        "schema": {
          "$ref": "#/entities/Region"
        },
        "description": "Stores geographical region data.",
        "collections": {
          "ndvi": {
            "schema": {
              "$ref": "#/entities/NDVIEntry"
            },
            "description": "Stores NDVI entries for each region."
          }
        }
      },
      "contact_messages": {
        "schema": {
          "$ref": "#/entities/ContactMessage"
        },
        "description": "Stores contact messages submitted through the contact form."
      }
    }
  }
}